## γ矫正
CCD的输出电流强度$I$和入射光强度$L$并不是正比例关系,而是下面的对数关系:
$$I=C\cdot L^{\gamma}$$
因此,在获得信号$I$之后,必须对其进行γ矫正,才能使其显示较为准确的光强度.上式的逆变换:
$$L=\overline{C}\cdot I^{1/\gamma}$$
γ矫正的关键是确定γ值.
### 确定γ值
由第一个公式可得:
$$\log I=r\cdot\log L+\overline{C}$$
通过$\log I$和$\log L$的线性关系,通过二者斜率计算γ值.
$$\gamma=\tan\theta$$
(实际γ值一般在0.4-0.8之间)
### 对输入信息进行γ矫正
在知道γ值之后,通过下式进行计算原始光强度:
$$L=(I/C)^{1/\gamma}=\overline{C}\cdot I^{1/\gamma}$$
## 对比度展宽
通过扩大关心区域的对比度,将部分灰度区域强调出来,突出目标区域的细节.
公式:
$$g(i,j)=\begin{cases}\alpha f(i,j)\\\beta(f(i,j)-a)+g_a\\\gamma(f(i,j)-b)+g_b&\end{cases}$$
灰度调整效果:
![[数字图像处理与机器视觉/assets/Pasted image 20250416211635.png]]

**灰级窗**:若把该操作极端化,非目标区域的东西直接不显示梯度,则是上式中$\alpha=\gamma=0$,效果如下:
![[数字图像处理与机器视觉/assets/Pasted image 20250416211902.png]]

**灰级窗切片**:只保留感兴趣的部分，其余部分置为0.
![[数字图像处理与机器视觉/assets/Pasted image 20250416212236.png]]
## 动态范围调整
动态范围是指图像中从暗到亮的变化范围.
当动态范围过大的时候,过亮,过暗的部分像素点会导致高光和阴影的细节丢失掩盖.

动态范围的压缩可以将所关心部分的灰度级的变化范围扩大.分为线性动态范围调整和非线性动态范围调整.
### 线性动态范围调整
如图.
![[数字图像处理与机器视觉/assets/Pasted image 20250416212715.png]]
公式:
$$h^*(i,j)=\begin{cases}0&h(i,j)\leq a\\\frac{255}{b-a}h(i,j)-\frac{255a}{(b-a)}&h(i,j)\in(a,b)\\255&h(i,j)\geq b&\end{cases}$$
### 非线性动态范围调整
没有固定模式,通常取对数的方法(效果如下)来提高暗部对比度,原因是人眼对信号的处理是一个近似对数算子的环节.
![[数字图像处理与机器视觉/assets/Pasted image 20250416213004.png]]
## 直方图均衡化
目标:扩展高频灰度级，缩减低频灰度级.
### 具体步骤
1. 给出原图像f的灰度直方图$h(i)$
2. 计算灰度分布概率
	1. 求出原图像f的总体像素个数
	   $N_{f}=m*n$
	2. 计算每个灰度级的像素个数在整个图像中占的百分比(即分布概率):
	   $h_{s}(i)=\frac{h(i)}{N_{f}}(i=0,1,\dots,255)$
3. 计算灰度级的累计分布(把当前分布概率和前面的全部累积起来):
   $h_p(i)=\sum_{k=0}^ih_s(k)$
4. 计算新灰度级
   $g(i,j)=255\cdot h_{p}(k)$
## 伪彩色技术
把人眼难以区别的灰度变化，施以不同的彩色来提高识别率，这便是伪彩色技术.
### 基于亮度的伪彩色
通过一个点的灰度值来对其进行三种彩色的赋值.
![[数字图像处理与机器视觉/assets/Pasted image 20250416220729.png]]
### 基于区域的伪彩色
给不同区域赋予不同颜色.
