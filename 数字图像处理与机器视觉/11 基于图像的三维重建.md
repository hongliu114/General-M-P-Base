## PDF补充
### 三维重建的目的,任务
三维重建是计算机视觉的最主要研究方向.
三维重建就是指从单幅图像加景物约束,或二副及二副以上图像恢复空间点三维坐标的过程.

从照相机的成像模型出发:
$$x_i\mathbf{m}_i=\mathbf{K}(\mathbf{R},\mathbf{t})\mathbf{M}_i$$
三维重建的主要目的:从图像出发,求出所有 的$M_{i}$
摄像机标定:从图像出发,求出内参数$K$
摄像机标定位或运动参数求解:从图像出发,求出运动参数$R,t$

三维重建的**三个关键步骤**:
- 图像对应点的确定
- 摄像机标定
- 摄像机运动参数的确定
### 射影几何
照相机的成像是一个射影变换(透视或中心摄影过程).

欧氏几何与射影几何的区别:一部分欧氏几何中保持不变的性质(面积,长度等)在射影几何中不再保持不变.

**无穷远元素**:
平行线交于一个无穷远点;
平行平面交于一个无穷远直线.
一条直线上只有一个无穷远点.
所有无穷远点组成无穷远直线,一个平面只有一条无穷远直线.

**射影空间**:
对n维欧氏空间加入无穷远元素,并对有限和无穷远元素不加以区分,则是n维射影空间.

**齐次坐标**此处不再赘述.

**射影参数**:
对于n维空间中的任意一条直线,如果$P_{1},P_{2}$是它上面的两个任意的点,那么直线的任意一个点都可以由下式生成:
$$X=c_1X_1+c_2X_2$$
其中$X,X_{1},X_{2}$是点的齐次坐标,$c_{1},c_{2}$是两个不全为零的常数.
那么比例$\frac{c_{1}}{c_{2}}$则称为任意一点在直线上的射影参数.

**交比**:
![[数字图像处理与机器视觉/assets/Pasted image 20250418015650.png]]
定理:设四个不同的共线点中的三点及其交比值为已知，则第四点必唯一确定.

#### 射影变换
记$S_{n},S_{n}'$是两个射影空间,$T$是由前者到后者的映射,若T保持性质:
- 点与直线的结合关系
- 共线四个点的交比
则$T$称为一个n维射影变换.

若点用齐次坐标表示,则射影变换都可以用一个(n+1)\*(n+1)的矩阵表示.
![[数字图像处理与机器视觉/assets/Pasted image 20250418020447.png]]
T矩阵的行列式非零,那么它是一个**非退化**的射影变换,否则,就是一个退化的射影变换.

照相机的成像过程是一个从三维空间到二维空间的退化的射影变换.

**射影几何**是研究射影空间中在射影变换下保持不变的性质的几何学.
#### 射影平面中的对偶
点和直线的射影平面上的对偶元素.

**对偶原则**:在射影平面离,如果一个命题成立,那么它的对偶命题也成立.(证明见参考资料1)

参考资料:
[【【射影几何】线动也能成点！对偶原理简介（五）】 ](https://www.bilibili.com/video/BV1QHBMY5ESk/?share_source=copy_web&vd_source=34dd435d3d651e8a3a60eacd5873aed9)
#### 调和
如果点对(P1,P2)和(P3，P4)的交比是-1，即：
(P1,P2；P3,P4)=-1
则称(P,P)与(P,P)是**调和**的.

- 线段的中点为无穷远点关于这个线段的两个端点的调和点.
- 因为调和关系是由交比定义的，所以它是射影不变的.
## 分层重建
分层重建就是:通过逐步提升空间假设条件（射影→仿射→欧氏），逐步恢复场景的三维结构.
![[数字图像处理与机器视觉/assets/Pasted image 20250418022016.png]]
![[数字图像处理与机器视觉/assets/Pasted image 20250418022023.png]]
### 三种变换(空间)
#### 射影变换
- ​**射影空间**：最宽松的几何约束，仅保持交比、共线/共面性。
![[数字图像处理与机器视觉/assets/Pasted image 20250418022126.png]]
#### 仿射变换
- ​**仿射空间**：在射影基础上增加平行性、单比（有向线段比例）。
![[数字图像处理与机器视觉/assets/Pasted image 20250418022145.png]]
#### 刚体变换
- ​**欧氏空间**：最终恢复绝对尺度、角度和距离。
![[数字图像处理与机器视觉/assets/Pasted image 20250418022208.png]]

![[数字图像处理与机器视觉/assets/Pasted image 20250418022325.png]]
### 三种重建
#### 射影重建
射影空间投影矩阵的具体形式:
![[数字图像处理与机器视觉/assets/Pasted image 20250418022457.png]]
射影重建步骤:
![[数字图像处理与机器视觉/assets/Pasted image 20250418022432.png]]
#### 仿射重建
仿射空间投影矩阵的具体形式:
![[数字图像处理与机器视觉/assets/Pasted image 20250418022527.png]]
仿射空间投影矩阵和射影空间投影矩阵之间的关系:
![[数字图像处理与机器视觉/assets/Pasted image 20250418022919.png]]
仿射重建(基于射影重建):
![[数字图像处理与机器视觉/assets/Pasted image 20250418022936.png]]
#### 欧式重建
欧几里得空间下射影矩阵的形式:
![[数字图像处理与机器视觉/assets/Pasted image 20250418023125.png]]
欧氏空间投影矩阵与仿射空间投影矩阵的关系:
![[数字图像处理与机器视觉/assets/Pasted image 20250418023144.png]]
#### 重建总结
![[数字图像处理与机器视觉/assets/Pasted image 20250418023203.png]]
#### 分层重建
射影重建
    •基于二幅图象的方法
    •基于因式分解的方法（Factorization)
仿射重建
    •基于模约束的方法( Modular Constraint )
    •基于摄像机平移运动的方法
欧氏重建－－－> 线性方法
## 基于结构光的重建
通过主动投射已知模式（如光栅、编码光）简化匹配过程.
**硬件**：摄像机、投影仪、旋转平台、计算机
过程:
1、摄像机标定
2、光栅平面标定
3、旋转平台标定
4、三维重建
5、三维配准
6、三维融合及三角化
7、纹理映射与三维显示
## 基于控制点极端摄影矩阵:退化图
這是什麽東西.

